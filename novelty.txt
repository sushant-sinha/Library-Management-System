after fetching the genre's count based on the genreid

the genre having the maximum count will be choosed.

the books will be now selected from the table based on the selected genre.

for getting all the genres he ever issued:

select books.genreid, count(books.genreid) from books join issuedbookdetails on books.id=issuedbookdetails.bookid where issuedbookdetails.Studentid="sid13" group by genreid

returns the sum of genres for gfenre type.... e.g:

mysql> select books.genreid, count(books.genreid) from books join issuedbookdetails on books.id=issuedbookdetails.bookid where issuedbookdetails.Studentid="sid13" group by genreid;
+---------+----------------------+
| genreid | count(books.genreid) |
+---------+----------------------+
|       3 |                    2 |
|       6 |                    2 |
+---------+----------------------+